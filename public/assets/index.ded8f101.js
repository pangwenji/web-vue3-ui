import{g as M,o as i,i as c,m as o,v as b,x,p as I,t as p,k as u,I as m,j as g,z as N,A as $,E as C}from"./vendor.d1385716.js";import R from"./index.dca15d38.js";import{_ as j}from"./index.45f5150f.js";function S(e){let s="";const _=new Date().getTime();var t=Math.floor((_-e)/1e3);return t>60*60*24*365?s=Math.floor(t/(60*60*24*365))+"\u5E74\u524D":t>60*60*24*30?s=Math.floor(t/(60*60*24*30))+"\u4E2A\u6708\u524D":t>60*60*24*7?s=Math.floor(t/(60*60*24*7))+"\u5468\u524D":t>60*60*24?s=Math.floor(t/(60*60*24))+"\u5929\u524D":t>60*60?s=Math.floor(t/(60*60))+"\u5C0F\u65F6\u524D":t>60?s=Math.floor(t/60)+"\u5206\u949F\u524D":t>0?s=Math.floor(t/1)+"\u79D2\u524D":s="1\u79D2\u524D",s}function v(e){e=Math.ceil(Number(e));let s=Math.floor(e/3600)<10?"0"+Math.floor(e/3600):Math.floor(e/3600),_=Math.floor(e/60%60)<10?"0"+Math.floor(e/60%60):Math.floor(e/60%60),t=Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60);return s!=0?e=s+":"+_+":"+t:_+":"+t}const D=e=>(N("data-v-60d34972"),e=e(),$(),e),A={class:"file-remark-content"},F=["onClick"],z={class:"remark-list-box"},E={class:"remarkbox rk-box1"},O=D(()=>o("span",null,"\u7528\u6237\u540D ",-1)),V={key:0},P={key:1},q={class:"remarkbox rk-box2"},G={key:0,class:"remarkbox rk-box3"},H={class:"rk-box3-left"},J={class:"comp-time"},K={class:"rk-box3-right"},Q=["onClick"],U=["onClick"],W={key:1,class:"reply-box"},X={class:"reply-info"},Y={style:{"word-wrap":"break-word"}},Z={key:0,class:"reply-info reply-info-btn"},ee={class:"reply-btn-left"},te={class:"comp-time"},oe={class:"reply-btn-right"},se=["onClick"],le=["onClick"],ne={key:1},ae={props:{remarkList:{type:Array,default:()=>[]},isActiveTag:{type:Number,default:null}},setup(e,{emit:s}){const _=e,t=M(null),h=M(null),w=(a,n)=>{s("clickItem",a,n)};function L(a){C.confirm("\u786E\u8BA4\u5220\u9664\u5F53\u524D\u5BA1\u9605\u610F\u89C1\uFF1F","",{confirmButtonText:"\u5220\u9664",ancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{_.remarkList.splice(a,1)}).catch(()=>{})}function B(a,n){C.confirm("\u786E\u8BA4\u5220\u9664\u5F53\u524D\u56DE\u590D\u610F\u89C1\uFF1F","",{confirmButtonText:"\u5220\u9664",ancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{_.remarkList[a].replyList.splice(n,1)}).catch(()=>{})}function y(a){a===1&&(t.value=null),a===2&&(h.value=null)}function k(a,n,r){_.remarkList[n].replyList.unshift({userId:"01"+n,userName:"\u7528\u6237\u540D"+n,replyTime:new Date().getTime(),reply:a.value}),y(r)}return(a,n)=>(i(),c("div",A,[o("ul",null,[(i(!0),c(b,null,x(e.remarkList,(r,d)=>(i(),c("li",{class:I({activeTag:e.isActiveTag===d}),key:d,onClick:l=>w(r,d)},[o("div",z,[o("div",E,[O,r.currTimeType==="1"?(i(),c("span",V,p(u(v)(r.currTime[0]))+" - "+p(u(v)(r.currTime[1])),1)):(i(),c("span",P,p(u(v)(r.currTime)),1))]),o("div",q,[o("span",null," \u6CE8\uFF1A"+p(r.remark),1)]),t.value!==d?(i(),c("div",G,[o("div",H,[o("span",J,p(u(S)(r.sendTime)),1)]),o("div",K,[o("span",{onClick:m(l=>t.value=d,["stop"])},"\u56DE\u590D",8,Q),o("span",{onClick:m(l=>L(d),["stop"])},"\u5220\u9664",8,U)])])):(i(),c("div",W,[g(R,{replyIndex:d,placeholder:"\u56DE\u590D@"+r.remark,onCancelReply:n[0]||(n[0]=l=>y(1)),onSendReply:l=>k(l,d,1)},null,8,["replyIndex","placeholder","onSendReply"])]))]),(i(!0),c(b,null,x(r.replyList,(l,T)=>(i(),c("div",{key:T,class:"reply-list-box"},[o("div",X,[o("span",null,p(l.userName),1)]),o("div",Y,[o("span",null,"\u56DE\u590D@"+p(l.userName)+"\uFF1A"+p(l.reply),1)]),h.value!==l.replyTime?(i(),c("div",Z,[o("div",ee,[o("span",te,p(u(S)(l.replyTime)),1)]),o("div",oe,[o("span",{onClick:m(f=>h.value=l.replyTime,["stop"])},"\u56DE\u590D",8,se),o("span",{onClick:m(f=>B(d,T),["stop"])},"\u5220\u9664",8,le)])])):(i(),c("div",ne,[g(R,{replyIndex:h.value,placeholder:"\u56DE\u590D@"+l.userName,onCancelReply:n[1]||(n[1]=f=>y(2)),onSendReply:f=>k(f,d,2)},null,8,["replyIndex","placeholder","onSendReply"])]))]))),128))],10,F))),128))])]))}};var re=j(ae,[["__scopeId","data-v-60d34972"]]),pe=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{re as F,S as c,pe as i,v as s};
